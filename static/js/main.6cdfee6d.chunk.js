(this["webpackJsonpreact-redux-react-router"]=this["webpackJsonpreact-redux-react-router"]||[]).push([[0],{34:function(e,t,a){e.exports=a(48)},43:function(e,t,a){},45:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(19),s=a.n(o),c=a(12),l=a(11),i=(a(43),a(4)),u=a(5),m=a(7),p=a(6),d=a(8),E=a(17),f=function(){return r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item text-center"},r.a.createElement(l.b,{className:"nav-link",to:"/",exact:!0},"Home")),r.a.createElement("li",{className:"nav-item text-center"},r.a.createElement(l.b,{className:"nav-link",to:"/login"},"Login")),r.a.createElement("li",{className:"nav-item text-center"},r.a.createElement(l.b,{className:"nav-link",to:"/news"},"News")),r.a.createElement("li",{className:"nav-item text-center"},r.a.createElement(l.b,{className:"nav-link",to:"/profile"},"Profile")),r.a.createElement("li",{className:"nav-item text-center"},r.a.createElement(l.b,{className:"nav-link",to:"/nonexistent-page"},"Nonexistent page")))},b=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={isMenuShown:!1},a.toggleMenu=function(){a.setState((function(e){return{isMenuShown:!e.isMenuShown}}))},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("header",null,r.a.createElement("nav",{className:"navbar navbar-dark navbar-expand-md bg-primary"},r.a.createElement("div",{className:"navbar-brand"},"Redux App"),r.a.createElement("button",{className:"navbar-toggler",type:"button",onClick:this.toggleMenu},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse ".concat(this.state.isMenuShown?"show":"")},r.a.createElement(f,null))))}}]),t}(n.Component),h=(a(45),function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"home__jumbotron jumbotron"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"display-4"},"Home page"),r.a.createElement("p",{className:"lead"},"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consectetur cum delectus deleniti dolores eligendi fuga laudantium quibusdam quis, suscipit voluptatem?")))}}]),t}(n.Component));var g={wrong_email_or_password:"Wrong email or password",wrong_email:"Wrong email",user_not_found:"User not found",other:"Server error"},v=a(21),O=a(13),N=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={redirectToPreviousRoute:!1,username:"",password:""},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,r=t.password;a.props.login({username:n,password:r},(function(){a.setState({redirectToPreviousRoute:!0})})),a.setState({username:"",password:""})},a.handleChange=function(e){var t=e.currentTarget.value,n=e.currentTarget.dataset.fieldName;a.setState((function(e){return Object(O.a)({},e,Object(v.a)({},n,t))}))},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.location,a=e.errorMsg,n=(t.state||{from:{pathname:"/"}}).from,o=this.state,s=o.username,c=o.password;return o.redirectToPreviousRoute?r.a.createElement(E.a,{to:n}):r.a.createElement("div",{className:"container"},r.a.createElement("form",{className:"mt-3",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},a&&r.a.createElement("p",{className:"text-danger"},a),r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement("input",{type:"text",className:"form-control",id:"name","data-field-name":"username",onChange:this.handleChange,value:s}),r.a.createElement("small",{id:"nameHelp",className:"form-text text-muted"},"We'll never share your data with anyone else.")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",className:"form-control",id:"password","data-field-name":"password",onChange:this.handleChange,value:c})),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit")))}}]),t}(n.Component),y=Object(c.b)((function(e){return{errorMsg:e.session.errorMsg}}),(function(e){return{login:function(t,a){return e(function(e,t){return function(a){!function(e){return!("admin"!==e.username.toLowerCase()||"12345"!==e.password)}(e)?a({type:"LOG_IN_FAILURE",payload:{errorMessage:"Invalid login or password"},error:!0}):(a({type:"LOG_IN",payload:{name:e.username}}),t())}}(t,a))}}}))(N),j=function(e){var t=e.user;return r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"text-center mt-3"},"This is ",t.name,"'s profile"))},w=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.user;return r.a.createElement(j,{user:e})}}]),t}(n.Component),_=Object(c.b)((function(e){return{user:e.session.user}}))(w),S=function(){return r.a.createElement("div",{className:"container mt-3"},r.a.createElement("h2",null,"404 - Page not found :("),r.a.createElement("p",null,"Try... (links)"))},M=a(31),x=Object(c.b)((function(e){return{isUser:e.session.user}}))((function(e){var t=e.component,a=Object(M.a)(e,["component"]);return r.a.createElement(E.b,Object.assign({},a,{render:function(e){return a.isUser?r.a.createElement(t,e):r.a.createElement(E.a,{to:{pathname:"/login",state:{from:e.location}}})}}))})),L=a(26),k=a.n(L),C=a(32),T="https://jsonplaceholder.typicode.com/posts?_limit=5",I=function(){var e=Object(C.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(T));case 2:if(!(t=e.sent).ok){e.next=9;break}return e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 9:throw new Error(t.status);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function R(e){return{type:"SHOW_LOADER",payload:{isLoading:e}}}var U=function(e){var t=e.data;return t.length?r.a.createElement("ul",{className:"list-group"},t.map((function(e){return r.a.createElement("li",{key:e.id,className:"list-group-item"},r.a.createElement("article",null,r.a.createElement("h3",{className:"capitalize-first-letter"},e.title),r.a.createElement("p",{className:"capitalize-first-letter"},e.body)))})),r.a.createElement("div",{className:"my-3"},"News total: ",t.length)):r.a.createElement("p",null,"There are no news yet")},A=(a(47),function(e){var t=e.data,a=e.isLoading,n=e.errorMsg;return r.a.createElement("div",{className:"container mt-3"},r.a.createElement("h1",null,"News"),t&&r.a.createElement(U,{data:t}),a&&r.a.createElement("p",null,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."),n&&r.a.createElement("p",null,g[n]||g.other))});A.defaultProps={data:null};var G=A,P=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.getNews()}},{key:"render",value:function(){var e=this.props.news,t=e.data,a=e.isLoading,n=e.errorMsg;return r.a.createElement(G,{data:t,isLoading:a,errorMsg:n})}}]),t}(n.Component),W=Object(c.b)((function(e){return{news:e.news}}),(function(e){return{getNews:function(){e((function(e){e(R(!0)),I().then((function(t){return e(R(!1)),e({type:"GET_NEWS_SUCCESS",payload:{data:t}}),t})).catch((function(t){e(R(!1)),e({type:"GET_NEWS_FAILURE",payload:{errorMsg:t.message},error:!0})}))}))}}}))(P),D=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"app"},r.a.createElement(b,null),r.a.createElement("main",null,r.a.createElement(E.d,null,r.a.createElement(E.b,{exact:!0,path:"/",component:h}),r.a.createElement(E.b,{path:"/login",component:y}),r.a.createElement(E.b,{path:"/news",component:W}),r.a.createElement(x,{path:"/profile",component:_}),r.a.createElement(E.b,{component:S}))),r.a.createElement("footer",{className:"footer py-3 text-center bg-primary"},"Very informative footer"))}}]),t}(n.Component),F=a(16),H={user:null,errorMsg:""},X={data:null,isLoading:!1,errorMsg:""},V=Object(F.c)({session:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOG_IN":return Object(O.a)({},e,{user:{name:t.payload.name},errorMsg:""});case"LOG_OUT":return Object(O.a)({},e,{user:null,errorMsg:""});case"LOG_IN_FAILURE":return Object(O.a)({},e,{user:null,errorMsg:t.payload.errorMessage});default:return e}},news:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_LOADER":return Object(O.a)({},e,{isLoading:t.payload.isLoading,errorMsg:""});case"GET_NEWS_SUCCESS":return Object(O.a)({},e,{data:t.payload.data,errorMsg:""});case"GET_NEWS_FAILURE":return Object(O.a)({},e,{data:null,errorMsg:t.payload.errorMsg});default:return e}}}),q=a(33),z="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):F.d,J=[q.a],B=z(F.a.apply(void 0,J)),K=Object(F.e)(V,B);s.a.render(r.a.createElement(c.a,{store:K},r.a.createElement(l.a,null,r.a.createElement(D,null))),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.6cdfee6d.chunk.js.map